schema: '2.0'
stages:
  download:
    cmd: python src/download.py --version 20220301.simple --save_path data/wikipedia_simple_en.hf
    deps:
    - path: src/download.py
      hash: md5
      md5: 6f8ca192565bda7472b5fffb45b1610a
      size: 1214
    outs:
    - path: data/wikipedia_simple_en.hf
      hash: md5
      md5: 7dd0e6ed1e50e9294e1eac32594d0562.dir
      size: 235144298
      nfiles: 4
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/wikipedia_simple_en.hf
      hash: md5
      md5: 7dd0e6ed1e50e9294e1eac32594d0562.dir
      size: 235144298
      nfiles: 4
    - path: src/prepare.py
      hash: md5
      md5: f6e68aac39f2279554c9e2fc983d4973
      size: 4779
    outs:
    - path: data/processed/vocab.txt
      hash: md5
      md5: d0196b2f36267c6ca9f7cb02ee747802
      size: 189573
    - path: data/processed/wikipedia_docs.txt
      hash: md5
      md5: 39674893c4aed36bc4bacac82d07c266
      size: 49020828
    - path: data/processed/wikipedia_embeddings.npz
      hash: md5
      md5: eef291e6ae0f08ef9ca9377296aea97c
      size: 289889022
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/vocab.txt
      hash: md5
      md5: d0196b2f36267c6ca9f7cb02ee747802
      size: 189573
    - path: data/processed/wikipedia_docs.txt
      hash: md5
      md5: 39674893c4aed36bc4bacac82d07c266
      size: 49020828
    - path: data/processed/wikipedia_embeddings.npz
      hash: md5
      md5: eef291e6ae0f08ef9ca9377296aea97c
      size: 289889022
    outs:
    - path: models/wikipedia_topic_model
      hash: md5
      md5: dd351e480554d45fe87fa60da468a92c.dir
      size: 6859774
      nfiles: 5
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/wikipedia_docs.txt
      hash: md5
      md5: 39674893c4aed36bc4bacac82d07c266
      size: 49020828
    - path: models/wikipedia_topic_model
      hash: md5
      md5: dd351e480554d45fe87fa60da468a92c.dir
      size: 6859774
      nfiles: 5
